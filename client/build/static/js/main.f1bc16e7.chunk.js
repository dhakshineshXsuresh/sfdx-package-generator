(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{80:function(e,t,a){e.exports=a(91)},85:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(9),s=a.n(o),c=(a(85),a(86),a(126)),r=a(129),i=a(131),d=a(20),m=a(132),p=a(61),E=a.n(p),u=a(62),h=a.n(u),T=a(63),C=a.n(T);const g=Object(c.a)(e=>({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},button:{marginRight:e.spacing(1)},title:{flexGrow:1}}));function y(){const e=g(),{dispatch:t}=Object(l.useContext)(re);return n.a.createElement("div",{className:e.root},n.a.createElement(r.a,{position:"static"},n.a.createElement(i.a,null,n.a.createElement(d.a,{variant:"h6",className:e.title},"Salesforce Package.xml Generator"),n.a.createElement(m.a,{color:"inherit",onClick:()=>{t({type:"UPDATE_PACKAGE_XML"})},variant:"outlined",className:e.button,startIcon:n.a.createElement(E.a,null)},"Update Package.xml"),n.a.createElement(m.a,{color:"inherit",onClick:()=>{t({type:"COPY_TO_CLIPBOARD"})},variant:"outlined",className:e.button,startIcon:n.a.createElement(h.a,null)},"Copy To Clipboard"),n.a.createElement(m.a,{color:"inherit",onClick:()=>{console.log("handleHowTo invoked"),t({type:"HOW_TO"})},variant:"outlined",className:e.button,startIcon:n.a.createElement(C.a,null)},"How To"))))}var A=a(133),_=a(134),v=a(135),S=a(147),N=a(137),O=a(48),M=a.n(O),f=a(136),b=a(138),k=a(139),x=a(141),I=a(142),L=a(148),P=a(140),j=a(64),R=a.n(j),w=a(67);const H=Object(c.a)({root:{minWidth:275},title:{fontSize:10},pos:{marginBottom:12}});function D(){const e=H(),{globalState:t,dispatch:a}=Object(l.useContext)(re),[o,s]=Object(l.useState)(""),c=(e,t)=>{e.stopPropagation(),console.log("handleMetadataClick invoked MetadataType.js"),console.log(t),a({type:"MDATA_TYPE_CLICK",payload:t})};return n.a.createElement(A.a,{className:e.root,variant:"outlined"},n.a.createElement(_.a,{titleTypographyProps:{variant:"h6"},title:"Metadata Types",action:n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{color:"secondary",onClick:()=>{console.log("handleSelectAll MetadataType.js");let e=[],l=[];const n=t.metadataTypes.map(t=>(t.inFolder||t.isChildXMLName?l.push(t.id):(e.push(t.id),t.isSelected=!0,t.isIndeterminate=!1),t));l&&l.length>0&&(console.log("skippedMetadataTypes"),console.log(l),l.sort()),e.sort(),a({type:"MDATA_TYPE_SELECT_ALL",payload:{metadataTypes:n,parNodeArr:e,skippedMetadataTypes:l}})}},n.a.createElement("strong",null,"Select All")),n.a.createElement(m.a,{onClick:()=>{console.log("handleClearAll MetadataType.js"),a({type:"MDATA_TYPE_CLEAR_ALL"})}},"Clear All"))}),n.a.createElement(v.a,null,n.a.createElement(S.a,{id:"input-with-icon-textfield",variant:"outlined",placeholder:"Filter Metadata Types..",value:o,onChange:e=>{let t=e.target.value;t=t||"",s(t)},size:"small",InputProps:{startAdornment:n.a.createElement(N.a,{position:"start"},n.a.createElement(M.a,null))},fullWidth:!0}),n.a.createElement(w.a,{style:{maxHeight:500,overflow:"auto"}},n.a.createElement(f.a,{dense:!0,component:"nav","aria-label":"Metadata Types"},t.metadataTypes.map(e=>e.id.toUpperCase().includes(o.toUpperCase())?n.a.createElement(b.a,{button:!0,key:e.id,onClick:t=>c(t,e),selected:e.id===t.selectedMetadataType.id,title:"Click to view available Metadata Components"},n.a.createElement(k.a,null,n.a.createElement(L.a,{edge:"start",tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"labelId"},checked:e.isSelected,indeterminate:e.isIndeterminate,onClick:t=>((e,t)=>{e.stopPropagation(),console.log("handleCheckboxChange invoked MetadataType.js");const l=e.target.checked;t.isSelected=l,t.isIndeterminate=!1,console.log(t),a({type:"MDATA_TYPE_CHECKBOX_STATE_CHANGE",payload:t})})(t,e)})),n.a.createElement(x.a,{primary:e.id}),n.a.createElement(I.a,null,n.a.createElement(P.a,{edge:"end","aria-label":"comments",onClick:t=>c(t,e)},n.a.createElement(R.a,null)))):n.a.createElement(n.a.Fragment,null))))))}var F=a(143),X=a(144);const B=Object(c.a)({root:{minWidth:275},title:{fontSize:10},pos:{marginBottom:12}});function U(e){let{selectedMetadataType:t,isShowChildren:a}=e;const o=B(),{dispatch:s}=Object(l.useContext)(re),[c,r]=Object(l.useState)(""),i=e=>{console.log("updateMetadataType invoked ComponentList.js");const t=e.children.filter(e=>e.isSelected);return 0===t.length?(e.isSelected=!1,e.isIndeterminate=!1):t.length===e.children.length?(e.isSelected=!0,e.isIndeterminate=!1):(e.isSelected=!1,e.isIndeterminate=!0),e};return n.a.createElement(A.a,{className:o.root,variant:"outlined"},n.a.createElement(_.a,{titleTypographyProps:{variant:"h6"},title:""!==t.text?t.text:"Available Components",action:n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{onClick:()=>{if(t.children=t.children.map(e=>""===c?(e.isSelected=!0,e):(e.text.toUpperCase().includes(c.toUpperCase())&&(e.isSelected=!0),e)),""===c)return t.isSelected=!0,t.isIndeterminate=!1,void s({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t});t=i(t),s({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t})}},"Select All"),n.a.createElement(m.a,{onClick:()=>{t.children=t.children.map(e=>(e.isSelected=!1,e)),t.isSelected=!1,t.isIndeterminate=!1,s({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t})}},"Clear All"))}),n.a.createElement(v.a,null,n.a.createElement(S.a,{id:"input-with-icon-textfield",variant:"outlined",placeholder:""!==t.text?"Filter "+t.text+"..":"Filter Components..",value:c,onChange:e=>{let t=e.target.value;t=t||"",r(t)},size:"small",InputProps:{startAdornment:n.a.createElement(N.a,{position:"start"},n.a.createElement(M.a,null))},fullWidth:!0}),n.a.createElement(w.a,{style:{maxHeight:500,overflow:"auto"}},n.a.createElement(F.a,null,t.children.map(e=>e.text.toUpperCase().includes(c.toUpperCase())?n.a.createElement(X.a,{control:n.a.createElement(L.a,{value:e.id,checked:e.isSelected,onClick:a=>((e,a)=>{console.log("handleComponentClick invoked ComponentList.js");const l=a.target.checked,n=e.id;t.children=t.children.map(e=>(n===e.id&&(e.isSelected=l),e)),t=i(t),s({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t})})(e,a)}),label:e.text}):n.a.createElement(n.a.Fragment,null))))))}var G=a(65),K=a(145),Y=a(146),W=a(22);const Q=(e,t)=>{switch(t.type){case"INIT_LOAD_REQUEST":return z(e);case"INIT_LOAD_RESPONSE":return q(e,t);case"MDATA_TYPE_CHECKBOX_STATE_CHANGE":return V(e,t);case"MDATA_TYPE_CLICK":return $(e,t);case"FETCH_CHILDREN_RESPONSE":return ee(e,t);case"COMPONENT_CHECKBOX_STATE_CHANGE":return te(e,t);case"MDATA_TYPE_SELECT_ALL":return ae(e,t);case"MDATA_TYPE_CLEAR_ALL":return le(e,t);case"UPDATE_PACKAGE_XML":return ne(e,t);case"COPY_TO_CLIPBOARD":return oe(e,t);case"HOW_TO":return se(e,t);default:return e}},z=e=>(e.vscode.postMessage({command:"INIT_LOAD_REQUEST"}),e),q=(e,t)=>{console.log("processInitialResponse invoked");let a=[];const l=t.payload;let n=l.metadataObjects;const o=l.mpExistingPackageXML;return n=J(n),n.sort((e,t)=>e.xmlName>t.xmlName?1:e.xmlName===t.xmlName?0:e.xmlName<t.xmlName?-1:void 0),n.forEach(e=>{let t=e.xmlName,l=!!e.isChildXMLName&&e.isChildXMLName;if(o[t]){let n=o[t],s=[],c=!1,r={};for(let e=0;e<n.length;e++){let a=n[e];if("*"===a){c=!0;continue}let l={id:t+"."+a,text:a,isSelected:!0};s.push(l)}r={id:t,text:t,children:s,inFolder:e.inFolder,isChildXMLName:l,isRefreshedFromServer:!1,isParent:!0,isSelected:c,isIndeterminate:!c},a.push(r)}else a.push({id:t,text:t,isRefreshedFromServer:!1,isChildXMLName:l,children:[],inFolder:e.inFolder,isParent:!0,isSelected:!1,isIndeterminate:!1})}),console.log(a),Object(W.a)(Object(W.a)({},e),{},{metadataTypes:a})},J=e=>{let t=[];for(let a=0;a<e.length;a++)t.push(e[a]),e[a].childXmlNames&&e[a].childXmlNames.forEach(e=>{let a={};a.xmlName=e,a.inFolder=!1,a.isChildXMLName=!0,t.push(a)});return t},V=(e,t)=>{console.log("processMetadataTypeCheckBox invoked");const a=t.payload;console.log(a);const l=e.vscode;e=Z(e,a);const n=a;let o=a.children.map(e=>(e.isSelected=a.isSelected,e));return a.children=o,a.isRefreshedFromServer||l.postMessage({command:"FETCH_CHILDREN_REQUEST",metadataType:a}),e.selectedMetadataType=n,Object(W.a)({},e)},$=(e,t)=>{console.log("processMetadataTypeClick invoked");const a=t.payload;console.log(a);const l=e.vscode;e=Z(e,a);const n=a;return a.isRefreshedFromServer||l.postMessage({command:"FETCH_CHILDREN_REQUEST",metadataType:a}),e.selectedMetadataType=n,Object(W.a)({},e)},Z=(e,t)=>{const a=e.metadataTypes.map(e=>t.id===e.id?t:e);return e.metadataTypes=a,e},ee=(e,t)=>{console.log("processFetchChildrenResponse invoked");let a=t.payload,l=a.results,n=a.metadataType,o=[];if(l&&0!==l.length)if(Array.isArray(l))for(let c=0;c<l.length;c++){let e=l[c];console.log("listmetadata node.fullName "+e.fullName),o.push({id:n+"."+e.fullName,text:e.fullName})}else console.log("listmetadata results.fullName "+l.fullName),o.push({id:n+"."+l.fullName,text:l.fullName});else console.log("No children"),o=[];o.sort((e,t)=>e.text>t.text?1:e.text===t.text?0:e.text<t.text?-1:void 0);const s=e.metadataTypes.map(t=>{if(n===t.id){let a=t.isSelected;t.isRefreshedFromServer=!0;let l=t.children,n=0;t.children=o.map(e=>{if(a)e.isSelected=!0;else{let t=l.find(t=>t.id===e.id);t?(e.isSelected=t.isSelected,e.isSelected&&n++):e.isSelected=!1}return e}),0!==o.length&&n===o.length&&(t.isSelected=!0,t.isIndeterminate=!1),e.selectedMetadataType=t}return t});return e.metadataTypes=s,console.log(s),Object(W.a)({},e)},te=(e,t)=>{console.log("processComponentCheckBox invoked");const a=t.payload;return console.log(a),e.selectedMetadataType=a,Object(W.a)({},e)},ae=(e,t)=>{console.log("processMetadataSelectAll invoked");const a=t.payload,l=e.vscode;return e.metadataTypes=a.metadataTypes,l.postMessage({command:"selectAll",selectedMetadata:a.parNodeArr,skippedMetadataTypes:a.skippedMetadataTypes}),console.log(e.metadataTypes),Object(W.a)({},e)},le=(e,t)=>(console.log("processMetadataClearAll invoked"),e.selectedMetadataType={id:"",children:[]},e.metadataTypes=e.metadataTypes.map(e=>(e.isRefreshedFromServer=!1,e.children=[],e.isSelected=!1,e.isIndeterminate=!1,e)),console.log(e.metadataTypes),Object(W.a)({},e)),ne=(e,t)=>(e.vscode.postMessage({command:"UPDATE_PACKAGE_XML",metadataTypes:e.metadataTypes}),e),oe=(e,t)=>(e.vscode.postMessage({command:"COPY_TO_CLIPBOARD",metadataTypes:e.metadataTypes}),e),se=(e,t)=>(e.vscode.postMessage({command:"OPEN_URL",url:"https://youtu.be/uXwIMh8bK0A"}),e),ce=Object(c.a)(e=>({root:{flexGrow:1}})),re=Object(l.createContext)();var ie=function(){const e=ce(),[t,a]=Object(l.useReducer)(Q,{vscode:de,metadataTypes:[],selectedMetadataType:{id:"",text:"",children:[]},isShowChildren:!1});console.log(de);const o=document.querySelector("body").classList.contains("vscode-dark"),s=Object(G.a)({palette:{type:o?"dark":"light"}});return Object(l.useEffect)(()=>{console.log("Inside INIT_LOAD_REQUEST useEffect() App.js"),a({type:"INIT_LOAD_REQUEST"})},[t.vscode]),Object(l.useEffect)(()=>{console.log("Inside messageEventListener useEffect() App.js");const e=e=>{const t=e.data;switch(console.log(e.data),t.command){case"metadataObjects":let e=t.metadataObjects;console.log("Inside App.js metadataObjects event listener "+e.length),a({type:"INIT_LOAD_RESPONSE",payload:t});break;case"listmetadata":console.log("Inside App.js listmetadata event listener"),a({type:"FETCH_CHILDREN_RESPONSE",payload:t})}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[t.vscode]),n.a.createElement(K.a,{theme:s},n.a.createElement(re.Provider,{value:{globalState:t,dispatch:a}},n.a.createElement("div",{className:e.root},n.a.createElement(Y.a,{container:!0,spacing:1},n.a.createElement(Y.a,{item:!0,xs:12},n.a.createElement(w.a,null,n.a.createElement(y,null))),n.a.createElement(Y.a,{item:!0,xs:6},n.a.createElement(w.a,null,n.a.createElement(D,null))),n.a.createElement(Y.a,{item:!0,xs:6},n.a.createElement(w.a,null,""!==t.selectedMetadataType.id&&n.a.createElement(U,{selectedMetadataType:t.selectedMetadataType,isShowChildren:t.isShowChildren})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.d(t,"vscode",(function(){return de}));const de=window.acquireVsCodeApi();s.a.render(n.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[80,1,2]]]);
//# sourceMappingURL=main.f1bc16e7.chunk.js.map